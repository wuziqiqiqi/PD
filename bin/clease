#!/usr/bin/env python
import sys


def print_help_msg():
    msg = "==================================================\n"
    msg += "'clease' command requires additional argument(s).\n"
    msg += "Currently, allowed arguments are:\n"
    msg += "gui : launch GUI for CLEASE\n"
    msg += "gui-setup : Install additional dependencies needed\n"
    msg += "            for running GUI.\n"
    msg += "==================================================\n"
    print(msg)


def install_gui_dependencies(args):
    import subprocess
    subprocess.check_call(['pip', 'install', 'kivy'] + args)
    url = 'https://github.com/kivy-garden/graph/archive/master.zip'
    subprocess.check_call(['pip', 'install', url] + args)


def main(argv):
    num_args = len(argv)
    if num_args == 1:
        print_help_msg()
        return

    if argv[1] == 'gui':
        from clease.gui.cleaseGUI import CleaseGUI
        CleaseGUI().run()

    elif argv[1] == 'gui-setup':
        install_gui_dependencies(argv[2:])

    elif argv[1] in ['-help', '-h', '--help', 'help']:
        print_help_msg()
        return

if __name__ == "__main__":
    main(sys.argv)