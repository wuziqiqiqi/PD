#: set height 0.05
#: set main_field 0.80
#: set button_height height/main_field


<NewStructPage>:
    name: 'NewStruct'
    StackLayout:

        BoxLayout:
            size_hint: [0.05, 1]

        StackLayout:
            size_hint: [0.90, 1]

            StackLayout:
                size_hint: [1, 0.5*button_height]

            StackLayout:
                size_hint: [1, button_height]

                Label:
                    size_hint: [0.1, 1]
                    text: ''
                Label:
                    size_hint: [0.2, 1]
                    text: 'generation number'

                TextInput:
                    size_hint: [0.1, 1]
                    id: genNumberInput
                    text: ''
                    write_tab: False
                    multiline: False

                Label:
                    size_hint: [0.2, 1]
                    text: ''

                Label:
                    size_hint: [0.2, 1]
                    text: 'No. struct. per gen.'

                TextInput:
                    size_hint: [0.1, 1]
                    id: structPerGenInput
                    text: '5'
                    write_tab: False
                    multiline: False
                Label:
                    size_hint: [0.1, 1]
                    text: ''

            StackLayout:
                size_hint: [1, 0.7*button_height]

            StackLayout:
                size_hint: [1, 1.5*button_height]

                Label:
                    size_hint: [1, 1]
                    text: 'Import Structure'


            StackLayout:
                size_hint: [1, button_height]

                Label:
                    size_hint: [0.15, 1]
                    text: 'Initial structure'

                TextInput:
                    size_hint: [0.25, 1]
                    id: initStructInput
                    text: ''
                    write_tab: False
                    multiline: False
                    on_text_validate: root.import_structures()

                Button:
                    size_hint: [0.1, 1]
                    id: loadInitStruct
                    text: 'Load'
                    on_release: root.show_load_init_struct_dialog()

                Label:
                    size_hint: [0.15, 1]
                    text: 'Final structure'

                TextInput:
                    size_hint: [0.25, 1]
                    id: finalStructInput
                    text: ''
                    write_tab: False
                    multiline: False
                    on_text_validate: root.import_structures()

                Button:
                    size_hint: [0.1, 1]
                    id: loadFinalStruct
                    text: 'Load'
                    on_release: root.show_load_final_struct_dialog()



            StackLayout:
                size_hint: [1, 0.7*button_height]


            StackLayout:
                size_hint: [1, button_height]

                Label:
                    size_hint: [0.4, 1]
                    text: ''
                Button:
                    size_hint: [0.2, 1]
                    id: importStructures
                    text: 'Import'
                    on_release: root.import_structures()
                Label:
                    size_hint: [0.4, 1]
                    text: ''


            StackLayout:
                size_hint: [1, 0.7*button_height]


            StackLayout:
                size_hint: [1, 1.5*button_height]

                Label:
                    size_hint: [1, 1]
                    text: 'Generate Structure'

            StackLayout:
                size_hint: [1, button_height]

                Label:
                    size_hint: [0.15, 1]
                    text: ''

                Label:
                    size_hint: [0.3, 1]
                    text: 'Generation Scheme'

                Spinner:
                    size_hint: [0.4, 1]
                    id: newStructTypeSpinner
                    text: 'Initial pool'
                    values: 'Initial pool', 'Random structure', 'Ground-state structure (fixed template)', 'Ground-state structure (variable template)', 'Probe structure'
                    on_text: root.on_new_struct_type_update(self.text)

                Label:
                    size_hint: [0.15, 1]
                    text: ''


            StackLayout:
                size_hint: [1, button_height]

                Label:
                    size_hint: [1./6, 1]
                    id: tempMaxLabel
                    text: 'Max. temp.'

                Label:
                    size_hint: [1./6, 1]
                    id: tempMinLabel
                    text: 'Min. temp.'

                Label:
                    size_hint: [1./6, 1]
                    id: numTempLabel
                    text: 'No. temps'

                Label:
                    size_hint: [1./6, 1]
                    id: numSweepsLabel
                    text: 'Sweeps per temp.'

                Label:
                    size_hint: [1./6, 1]
                    id: numTemplateLabel
                    text: 'Num templates'

                Label:
                    size_hint: [1./6, 1]
                    id: numPrimCells
                    text: 'Num prim. cells'


            StackLayout:
                size_hint: [1, button_height]

                TextInput:
                    size_hint: [1./6, 1]
                    id: tempMaxInput
                    input_filter: 'float'
                    text: '10000'
                    write_tab: False
                    multiline: False
                    on_text_validate: root.generate()

                TextInput:
                    size_hint: [1./6, 1]
                    id: tempMinInput
                    input_filter: 'float'
                    text: '1'
                    write_tab: False
                    multiline: False
                    on_text_validate: root.generate()

                TextInput:
                    size_hint: [1./6, 1]
                    id: numTempInput
                    input_filter: 'int'
                    text: '100'
                    write_tab: False
                    multiline: False
                    on_text_validate: root.generate()

                TextInput:
                    size_hint: [1./6, 1]
                    id: numSweepsInput
                    input_filter: 'int'
                    text: '100'
                    write_tab: False
                    multiline: False
                    on_text_validate: root.generate()

                TextInput:
                    size_hint: [1./6, 1]
                    id: numTemplateInput
                    input_filter: 'int'
                    text: '20'
                    write_tab: False
                    multiline: False

                TextInput:
                    size_hint: [1./6, 1]
                    id: numPrimCellsInput
                    input_filter: 'int'
                    text: '32'
                    write_tab: False
                    multiline: False


            StackLayout:
                size_hint: [1, 0.5*button_height]


            StackLayout:
                size_hint: [1, button_height]

                Label:
                    size_hint: [0.15, 1]
                    id: templateAtomsLabel
                    text: 'Template'

                TextInput:
                    size_hint: [0.25, 1]
                    id: templateAtomsInput
                    text: ''
                    write_tab: False
                    multiline: False
                    on_text_validate: root.generate()

                Button:
                    size_hint: [0.1, 1]
                    id: loadTemplateAtoms
                    text: 'Load'
                    on_release: root.show_load_template_dialog()

                Label:
                    size_hint: [0.15, 1]
                    id: eciFileLabel
                    text: 'ECI file'

                TextInput:
                    size_hint: [0.25, 1]
                    id: eciFileInput
                    text: ''
                    write_tab: False
                    multiline: False
                    on_text_validate: root.generate()

                Button:
                    size_hint: [0.1, 1]
                    id: loadECIFile
                    text: 'Load'
                    on_release: root.show_load_eci_dialog()

            StackLayout:
                size_hint: [1, 0.1*button_height]

            StackLayout:
                size_hint: [1, button_height]

                Label:
                    size_hint: [0.25, 1]
                    text: ''
                Label:
                    size_hint: [0.25, 1]
                    text: 'Composition Scheme'

                Spinner:
                    size_hint: [0.25, 1]
                    id: randomizeCompositionSpinner
                    text: 'Random composition'
                    values: 'Random composition', 'Composition in template'

                Label:
                    size_hint: [0.25, 1]
                    text: ''



            StackLayout:
                size_hint: [1, 0.5*button_height]


            StackLayout:
                size_hint: [1, button_height]

                Label:
                    size_hint: [0.4, 1]
                    text: ''

                Button:
                    size_hint: [0.2, 1]
                    id: generateButton
                    text: 'Generate'
                    on_release: root.generate()

                Label:
                    size_hint: [0.4, 1]
                    text: ''


        BoxLayout:
            size_hint: [0.05, 1]

